import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{d as N,c as p,o as d,a as l,l as U,r as f,e as F,h as t,w as s,j as e,bt as y,br as w,bT as G,bU as z,g as h,bX as M,bz as O,F as P,k as B,bA as $,bO as C,bP as _,bL as m,i as u,t as c,c4 as T,by as A,bE as K}from"./index-C5I1O8sb.js";const R={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},S=N({name:"CopyOutline",render:function(r,o){return d(),p("svg",R,o[0]||(o[0]=[l("rect",{x:"128",y:"128",width:"336",height:"336",rx:"57",ry:"57",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),l("path",{d:"M383.5 128l.5-24a56.16 56.16 0 0 0-56-56H112a64.19 64.19 0 0 0-64 64v216a56.16 56.16 0 0 0 56 56h24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),H={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},W=N({name:"CubeOutline",render:function(r,o){return d(),p("svg",H,o[0]||(o[0]=[l("path",{d:"M448 341.37V170.61A32 32 0 0 0 432.11 143l-152-88.46a47.94 47.94 0 0 0-48.24 0L79.89 143A32 32 0 0 0 64 170.61v170.76A32 32 0 0 0 79.89 369l152 88.46a48 48 0 0 0 48.24 0l152-88.46A32 32 0 0 0 448 341.37z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),l("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M69 153.99l187 110l187-110"},null,-1),l("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 463.99v-200"},null,-1)]))}}),X={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},q=N({name:"KeyOutline",render:function(r,o){return d(),p("svg",X,o[0]||(o[0]=[l("path",{d:"M218.1 167.17c0 13 0 25.6 4.1 37.4c-43.1 50.6-156.9 184.3-167.5 194.5a20.17 20.17 0 0 0-6.7 15c0 8.5 5.2 16.7 9.6 21.3c6.6 6.9 34.8 33 40 28c15.4-15 18.5-19 24.8-25.2c9.5-9.3-1-28.3 2.3-36s6.8-9.2 12.5-10.4s15.8 2.9 23.7 3c8.3.1 12.8-3.4 19-9.2c5-4.6 8.6-8.9 8.7-15.6c.2-9-12.8-20.9-3.1-30.4s23.7 6.2 34 5s22.8-15.5 24.1-21.6s-11.7-21.8-9.7-30.7c.7-3 6.8-10 11.4-11s25 6.9 29.6 5.9c5.6-1.2 12.1-7.1 17.4-10.4c15.5 6.7 29.6 9.4 47.7 9.4c68.5 0 124-53.4 124-119.2S408.5 48 340 48s-121.9 53.37-121.9 119.17zM400 144a32 32 0 1 1-32-32a32 32 0 0 1 32 32z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1)]))}}),J={class:"container py-"},Q={class:"d-flex align-items-center"},Y={class:"fw-bold text-primary"},Z={class:"fw-bold text-primary"},ee={class:"mt-3"},se={class:"text-end mt-3"},te={__name:"box",setup(k){const r=U(),o=document.cookie.split("; ").find(i=>i.startsWith("user_token="))?.split("=")[1],v=f([]),x=f([]),g=f(!1),j=f(""),b=f("");async function L(){try{const a=await(await fetch(window.server.url+`/php/user/index.php?action=getRdpUser&token=${o}`)).json();a.success?v.value=a.data:r.error(a.message||"获取远程桌面失败")}catch{r.error("网络错误")}}async function V(){try{const a=await(await fetch(window.server.url+`/php/user/index.php?action=getPassOrders&token=${o}`)).json();a.success?x.value=a.data:r.error(a.message||"获取密码订单失败")}catch{r.error("网络错误")}}async function I(i){try{const n=await(await fetch(window.server.url+`/php/user/index.php?action=getPassPassword&token=${o}&pid=${i.shopid}`)).json();n.success?(j.value=i.name,b.value=n.password,g.value=!0):r.error(n.message||"获取密码失败")}catch{r.error("网络错误")}}function D(){navigator.clipboard.writeText(b.value).then(()=>{r.success("已复制到剪贴板")})}return F(()=>{L(),V()}),(i,a)=>(d(),p("div",J,[t(e(w),{class:"mb-4 shadow-"},{header:s(()=>[l("div",Q,[t(e(y),{size:"24",class:"me-2"},{default:s(()=>[t(e(W))]),_:1}),a[1]||(a[1]=l("span",{class:"h4 mb-0 fw-bold"},"我的资源",-1))])]),_:1}),t(e(w),{class:"shadow-"},{default:s(()=>[t(e(G),{type:"line",animated:""},{default:s(()=>[t(e(z),{name:"rdp",tab:"远程桌面"},{default:s(()=>[t(e(O),{cols:{xs:1,sm:1,md:2,lg:3},"x-gap":16,"y-gap":16},{default:s(()=>[(d(!0),p(P,null,B(v.value,n=>(d(),h(e($),{key:n.id},{default:s(()=>[t(e(w),{class:"h-100"},{header:s(()=>[l("div",Y,c(n.name),1)]),default:s(()=>[t(e(C),{column:1,"label-placement":"left",bordered:""},{default:s(()=>[t(e(_),{label:"用户名"},{default:s(()=>[t(e(m),{type:"success",size:"small"},{default:s(()=>[u(c(n.username),1)]),_:2},1024)]),_:2},1024),t(e(_),{label:"密码"},{default:s(()=>[t(e(m),{type:"warning",size:"small"},{default:s(()=>[u(c(n.password),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),a[2]||(a[2]=l("div",{class:"mt-3"},null,-1))]),_:2,__:[2]},1024)]),_:2},1024))),128))]),_:1}),v.value.length?M("",!0):(d(),h(e(T),{key:0,class:"mt-5",description:"暂无远程桌面"}))]),_:1}),t(e(z),{name:"pass",tab:"系统密码"},{default:s(()=>[t(e(O),{cols:{xs:1,sm:1,md:2,lg:3},"x-gap":16,"y-gap":16},{default:s(()=>[(d(!0),p(P,null,B(x.value,n=>(d(),h(e($),{key:n.id},{default:s(()=>[t(e(w),{hoverable:"",class:"h-100"},{header:s(()=>[l("div",Z,c(n.name),1)]),default:s(()=>[t(e(C),{column:1,"label-placement":"left",bordered:""},{default:s(()=>[t(e(_),{label:"价格"},{default:s(()=>[t(e(m),{type:"info",size:"small"},{default:s(()=>[u("¥"+c(n.yuan),1)]),_:2},1024)]),_:2},1024),t(e(_),{label:"购买时间"},{default:s(()=>[t(e(m),{size:"small"},{default:s(()=>[u(c(n.created_at),1)]),_:2},1024)]),_:2},1024)]),_:2},1024),l("div",ee,[t(e(A),{type:"primary",size:"small",onClick:ae=>I(n)},{icon:s(()=>[t(e(y),null,{default:s(()=>[t(e(q))]),_:1})]),default:s(()=>[a[3]||(a[3]=u(" 查看密码 "))]),_:2,__:[3]},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),x.value.length?M("",!0):(d(),h(e(T),{key:0,class:"mt-5",description:"暂无密码订单"}))]),_:1})]),_:1})]),_:1}),t(e(K),{show:g.value,"onUpdate:show":a[0]||(a[0]=n=>g.value=n),preset:"dialog",title:j.value},{default:s(()=>[t(e(w),null,{default:s(()=>[t(e(C),{column:1,bordered:""},{default:s(()=>[t(e(_),{label:"系统密码"},{default:s(()=>[t(e(m),{type:"success",size:"large"},{default:s(()=>[u(c(b.value),1)]),_:1})]),_:1})]),_:1}),l("div",se,[t(e(A),{type:"primary",size:"small",onClick:D},{icon:s(()=>[t(e(y),null,{default:s(()=>[t(e(S))]),_:1})]),default:s(()=>[a[4]||(a[4]=u(" 复制 "))]),_:1,__:[4]})])]),_:1})]),_:1},8,["show","title"])]))}},oe=E(te,[["__scopeId","data-v-2ed16cd8"]]);export{oe as default};
